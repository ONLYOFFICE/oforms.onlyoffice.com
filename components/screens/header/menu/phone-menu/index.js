import StyledPhoneMenu from "./styled-phone-menu";
import { useState } from "react";
import ExternalLink from "@components/common/external-link";

const PhoneMenu = ({ t, locale }) => {
  const [isOpen, setIsOpen] = useState(false);

  const onCloseSelector = () => {
    if (isOpen === true) {
      setIsOpen(false);
    }
  };

  return (
    <StyledPhoneMenu onMouseLeave={() => onCloseSelector()} onClick={() => setIsOpen(!isOpen)} className={`phone-menu ${isOpen ? "open": ""}`} locale={locale}>
      <button onMouseEnter={() => setIsOpen(true)} className="phone-btn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6.79439 3.00858C6.50199 2.97044 6.24775 3.05949 6.03168 3.27535L3.51483 5.80972C3.38771 5.92405 3.27957 6.07328 3.19068 6.25748C3.10167 6.44169 3.04446 6.62268 3.01907 6.80047C3.01907 6.81317 3.0158 6.85138 3.00944 6.91492C3.00312 6.97835 2.99988 7.06092 2.99988 7.16255C2.99988 7.40398 3.04119 7.79465 3.12385 8.33455C3.20651 8.87445 3.40993 9.535 3.73402 10.3162C4.05817 11.0976 4.54446 11.9836 5.1927 12.9745C5.84091 13.9653 6.7308 15.0198 7.86219 16.1377C8.73931 17.0269 9.57829 17.7637 10.3791 18.3481C11.18 18.9325 11.9204 19.4025 12.6005 19.7582C13.2806 20.1139 13.8971 20.3807 14.4501 20.5586C15.0031 20.7364 15.4798 20.8571 15.8802 20.9206C16.2806 20.9841 16.5952 21.0095 16.824 20.9968C17.0529 20.9841 17.18 20.9778 17.2054 20.9778C17.3834 20.9524 17.5645 20.8952 17.7488 20.8063C17.9331 20.7173 18.0825 20.6094 18.1969 20.4823L20.7329 17.948C20.9109 17.7701 20.9999 17.5669 20.9999 17.3382C20.9999 17.1731 20.9522 17.027 20.8569 16.8999C20.7615 16.7729 20.6439 16.6649 20.5041 16.576L16.6334 14.5371C16.43 14.4227 16.2075 14.391 15.966 14.4418C15.7245 14.4926 15.5211 14.6006 15.3558 14.7657L14.4215 15.6994C14.3961 15.7248 14.3548 15.7471 14.2976 15.7661C14.2404 15.7852 14.1927 15.7947 14.1546 15.7947C13.8876 15.7439 13.5825 15.6296 13.2393 15.4517C12.9342 15.2993 12.5624 15.0643 12.1238 14.7467C11.6853 14.4291 11.18 13.9781 10.608 13.3937C10.0232 12.8221 9.56878 12.3139 9.24457 11.8693C8.92054 11.4248 8.6821 11.0531 8.52956 10.7545C8.37702 10.456 8.28486 10.2273 8.25317 10.0686L8.20547 9.83046C8.20547 9.80505 8.21504 9.76367 8.23407 9.70656C8.25317 9.6494 8.27539 9.60811 8.30084 9.58267L9.40677 8.49655C9.61013 8.26776 9.71182 8.00111 9.71182 7.69619C9.71183 7.48017 9.67372 7.30877 9.59742 7.18173L9.59742 7.16271L7.42369 3.48506C7.25831 3.21819 7.04863 3.05942 6.79439 3.00858Z" fill="#444444"/>
        </svg>
      </button>

      <div className="phone-wrapper">
        <div className="phone-label">{t("Ascensio System SIA")}</div>
        <a className="phone-call" href="tel:+37163399867">{t("Phone")}: +371 63399867</a>
        <ExternalLink className="phone-request-call" href={`https://onlyoffice.com${(locale === "en" || locale === "ar") ? "" : `/${locale}`}${"/call-back-form.aspx"}`} label={t("Request a call")} />
      </div>
    </StyledPhoneMenu>
  );
};

export default PhoneMenu;